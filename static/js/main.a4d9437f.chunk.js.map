{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","utils/PixabayApi/PixabayApI.js","components/App/App.js","index.js"],"names":["Searchbar","state","searchInput","onChange","event","target","name","value","setState","formReset","onSubmit","preventDefault","searchFormSubmit","props","this","className","type","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","id","src","alt","onClick","data-id","data-name","Button","Modal","image","largeImageURL","tags","API_KEY","BASE_URL","PixabayApiRequest","userQuery","page","per_page","image_type","orientation","axios","defaults","baseURL","request","then","response","status","console","log","data","statusText","headers","config","App","images","isLoading","isModalShow","fetchError","scrollToButton","window","scrollTo","top","document","documentElement","scrollHeight","behavior","a","hits","catch","error","messages","finally","onLoadMore","toggleModal","dataset","find","Number","parseInt","closeModal","code","prevProps","prevState","length","addEventListener","removeEventListener","map","webformatURL","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a4d9437f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchInput: '',\r\n  };\r\n\r\n  onChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  formReset = () => {\r\n    this.setState({ searchInput: '' })\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    const { searchFormSubmit } = this.props;\r\n    const { searchInput } = this.state;\r\n    searchFormSubmit(searchInput);\r\n    this.formReset();\r\n  };\r\n\r\n  render() {\r\n\r\n    const { searchInput } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name=\"searchInput\"\r\n            value={searchInput}\r\n            onChange={this.onChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\n\r\nfunction ImageGallery({ children }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {children}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default ImageGallery;","import React from 'react';\r\n\r\nfunction ImageGalleryItem({ id, src, alt, onClick }) {\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\" key={id} >\r\n      <img src={src} alt={alt} onClick={onClick} className=\"ImageGalleryItem-image\" data-id={id} data-name='image' />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nfunction Modal({ image, onClick }) {\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={onClick} data-name='overlay'>\r\n      <div className=\"Modal\">\r\n        <img src={image.largeImageURL} alt={image.tags} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal;","import axios from 'axios';\r\n\r\n//  ключ Никиты, с его ключем прилетают уникальные ответы, очень странно...\r\n// const API_KEY = \"3616495-8ef67a89dfdb2c2d531583fa2\";\r\n\r\nconst API_KEY = '18376090-d7378f6abd5315284a04e80ad';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nfunction PixabayApiRequest(userQuery = '', page = 1, per_page = 12, image_type = 'photo', orientation = 'horizontal') {\r\n  axios.defaults.baseURL = BASE_URL;\r\n\r\n  const request = `/?key=${API_KEY}&q=${userQuery}&page=${page}&per_page=${per_page}&image_type=${image_type}&orientation=${orientation}`;\r\n\r\n  return axios(request)\r\n    .then(response => {\r\n      if (response.status !== 200) {\r\n        console.log('response', response);\r\n        console.log('response.data', response.data);\r\n        console.log('response.status', response.status);\r\n        console.log('response.statusText', response.statusText);\r\n        console.log('response.headers', response.headers);\r\n        console.log('response.config', response.config);\r\n      }\r\n\r\n      return response;\r\n    })\r\n}\r\n\r\nexport default PixabayApiRequest;\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport PixabayApiRequest from '../../utils/PixabayApi/PixabayApI';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    userQuery: '',\r\n    images: [],\r\n    page: 1,\r\n    isLoading: false,\r\n    isModalShow: false,\r\n    image: {},\r\n    fetchError: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { userQuery } = this.state;\r\n    this.request(userQuery);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { userQuery, page, images, isModalShow } = this.state;\r\n\r\n    if (prevState.userQuery !== userQuery || page !== prevState.page) this.request();\r\n\r\n    if (images.length !== prevState.images.length) this.scrollToButton();\r\n\r\n    isModalShow && window.addEventListener('keydown', this.closeModal);\r\n    prevState.isModalShow && window.removeEventListener('keydown', this.closeModal);\r\n  }\r\n\r\n  searchFormSubmit = searchInput => {\r\n    this.setState({ userQuery: searchInput, page: 1, images: [] });\r\n  };\r\n\r\n  scrollToButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  request = async () => {\r\n    const { userQuery, page } = this.state;\r\n\r\n    await this.setState({ isLoading: true });\r\n\r\n    PixabayApiRequest(userQuery, page)\r\n      .then(({ data }) =>\r\n        this.setState(({ images }) => {\r\n          return { images: [...images, ...data.hits] };\r\n        }),\r\n      )\r\n      .then(this.setState({ fetchError: null }))\r\n      .catch(error => this.setState({ fetchError: error.messages }))\r\n      .finally(this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.setState(({ page }) => {\r\n      return { page: page + 1 };\r\n    });\r\n  };\r\n\r\n  toggleModal = event => {\r\n    const { name, id } = event.target.dataset;\r\n    const { images } = this.state;\r\n\r\n    const image = images.find(image => Number.parseInt(id) === image.id);\r\n\r\n    this.setState(({ isModalShow }) => {\r\n      if (name === 'image') return { isModalShow: true, image: image };\r\n      if (name === 'overlay') return { isModalShow: false, image: {} };\r\n    });\r\n  };\r\n\r\n  closeModal = event => {\r\n    if (event.code === 'Escape') this.setState({ isModalShow: false, image: {} });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, isModalShow, image } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar searchFormSubmit={this.searchFormSubmit} />\r\n\r\n        {images.length > 0 && (\r\n          <ImageGallery>\r\n            {images.map(({ id, webformatURL, tags }) =>\r\n              <ImageGalleryItem id={id} src={webformatURL} alt={tags} onClick={this.toggleModal} />\r\n            )}\r\n          </ImageGallery>\r\n        )}\r\n\r\n        {isLoading && <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} className=\"Loader\" />}\r\n        {images.length > 0 && !isLoading && <Button onClick={this.onLoadMore} />}\r\n\r\n        {isModalShow && <Modal image={image} onClick={this.toggleModal} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}