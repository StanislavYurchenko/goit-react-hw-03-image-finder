{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/CustomLoader/CustomLoader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/CustomLoader/CustomLoader.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","utils/pixabayApi/pixabayApI.js","components/App/App.js","index.js"],"names":["module","exports","CustomLoader","type","color","height","width","className","styles","Loader","Searchbar","state","searchInput","onChange","event","target","name","value","setState","formReset","onSubmit","preventDefault","searchFormSubmit","props","trim","toast","error","this","SearchForm","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","src","alt","onClick","image","data-id","data-name","defaultProps","ImageGallery","images","toggleModal","map","webformatURL","tags","Button","Modal","Overlay","largeImageURL","API_KEY","axios","defaults","baseURL","pixabayApiRequest","userQuery","page","per_page","image_type","orientation","request","then","data","hits","catch","massage","App","isLoading","isModalShow","scrollToButton","window","scrollTo","top","document","documentElement","scrollHeight","behavior","newImages","finally","onLoadMore","dataset","find","Number","parseInt","closeModal","code","prevProps","prevState","length","addEventListener","removeEventListener","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,MAAQ,kC,mBCAxFD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,OAAS,+B,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,oBAAoB,qCAAqC,0BAA0B,2CAA2C,mBAAmB,sC,yLCcxOC,MAZf,WACE,OACE,cAAC,IAAD,CACEC,KAAK,YACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,UAAWC,IAAOC,U,gCCmDTC,E,4MAtDbC,MAAQ,CACNC,YAAa,I,EAGfC,SAAW,SAAAC,GAAU,IAAD,EACMA,EAAMC,OAAtBC,EADU,EACVA,KAAMC,EADI,EACJA,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG1BE,UAAY,WACV,EAAKD,SAAS,CAAEN,YAAa,M,EAG/BQ,SAAW,SAAAN,GACTA,EAAMO,iBADY,IAEVC,EAAqB,EAAKC,MAA1BD,iBACFV,EAAc,EAAKD,MAAMC,YAAYY,OACvB,KAAhBZ,GAIJU,EAAiBV,GACjB,EAAKO,aAJHM,IAAMC,MAAM,gB,uDAON,IACAd,EAAgBe,KAAKhB,MAArBC,YACR,OACE,wBAAQL,UAAWC,IAAOE,UAA1B,SACE,uBAAMH,UAAWC,IAAOoB,WAAYR,SAAUO,KAAKP,SAAnD,UACE,wBAAQjB,KAAK,SAASI,UAAWC,IAAO,qBAAxC,SACE,sBAAMD,UAAWC,IAAO,2BAAxB,sBAGF,uBACEQ,KAAK,cACLC,MAAOL,EACPC,SAAUc,KAAKd,SACfN,UAAWC,IAAO,oBAClBL,KAAK,OACL0B,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA3CAC,a,iBCHxB,SAASC,EAAT,GAAsD,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QACxC,OACE,oBAAI9B,UAAWC,IAAOyB,iBAAtB,SACE,qBACEE,IAAKA,EACLC,IAAKA,EACLC,QAASA,EACT9B,UAAWC,IAAO8B,MAClBC,UAASL,EACTM,YAAU,YAKlBP,EAAiBQ,aAAe,CAC9BL,IAAK,SAUQH,Q,iBCTAS,MAhBf,YAAgD,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,YAC9B,OACE,oBAAIrC,UAAWC,IAAOkC,aAAtB,SACGC,EAAOE,KAAI,gBAAGX,EAAH,EAAGA,GAAIY,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAArB,OACV,cAAC,EAAD,CAEEb,GAAIA,EACJC,IAAKW,EACLV,IAAKW,EACLV,QAASO,GAJJV,S,iBCOAc,MAZf,YAA8B,IAAZX,EAAW,EAAXA,QAChB,OACE,wBAAQ9B,UAAWC,IAAOwC,OAAQ7C,KAAK,SAASkC,QAASA,EAAzD,wB,iBCFJ,SAASY,EAAT,GAAoC,IAAnBX,EAAkB,EAAlBA,MAAOD,EAAW,EAAXA,QACtB,OACE,qBAAK9B,UAAWC,IAAO0C,QAASb,QAASA,EAASG,YAAU,UAA5D,SACE,qBAAKjC,UAAWC,IAAOyC,MAAvB,SACE,qBAAKd,IAAKG,EAAMa,cAAef,IAAKE,EAAMS,WAMlDE,EAAMR,aAAe,CACnBH,MAAO,CACLF,IAAK,UAYMa,Q,iBCrBTG,EAAU,qCAEhBC,IAAMC,SAASC,QADE,0BAiBFC,MAdf,WAMG,IALDC,EAKA,uDALY,GACZC,EAIA,uDAJO,EACPC,EAGA,uDAHW,GACXC,EAEA,uDAFa,QACbC,EACA,uDADc,aAERC,EAAO,gBAAYV,EAAZ,cAAyBK,EAAzB,iBAA2CC,EAA3C,qBAA4DC,EAA5D,uBAAmFC,EAAnF,wBAA6GC,GAE1H,OAAOR,IAAMS,GACVC,MAAK,qBAAGC,KAAgBC,QACxBC,OAAM,SAAAxC,GAAK,OAAID,YAAMC,EAAMyC,aCkFjBC,E,4MA5FbzD,MAAQ,CACN8C,UAAW,GACXd,OAAQ,GACRe,KAAM,EACNW,WAAW,EACXC,aAAa,EACbhC,MAAO,M,EAoBThB,iBAAmB,SAAAV,GACjB,EAAKM,SAAS,CAAEuC,UAAW7C,EAAa8C,KAAM,EAAGf,OAAQ,M,EAG3D4B,eAAiB,WACfC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,EAIdhB,QAAU,WAAO,IAAD,EACc,EAAKnD,MAAzB8C,EADM,EACNA,UAAWC,EADL,EACKA,KAEnB,EAAKxC,SAAS,CAAEmD,WAAW,IAE3Bb,EAAkBC,EAAWC,GAC1BK,MAAK,SAAAgB,GAAS,OACb,EAAK7D,UAAS,YAAiB,IAAdyB,EAAa,EAAbA,OACf,MAAO,CAAEA,OAAO,GAAD,mBAAMA,GAAN,YAAiBoC,WAGnCC,QAAQ,EAAK9D,SAAS,CAAEmD,WAAW,M,EAGxCY,WAAa,WACX,EAAK/D,UAAS,YACZ,MAAO,CAAEwC,KADiB,EAAXA,KACO,O,EAI1Bd,YAAc,SAAA9B,GAAU,IAAD,EACAA,EAAMC,OAAOmE,QAA1BlE,EADa,EACbA,KAAMkB,EADO,EACPA,GAGRI,EAFa,EAAK3B,MAAhBgC,OAEawC,MAAK,SAAA7C,GAAK,OAAI8C,OAAOC,SAASnD,KAAQI,EAAMJ,MAEpD,UAATlB,GAAkB,EAAKE,SAAS,CAAEoB,MAAOA,IAChC,YAATtB,GAAoB,EAAKE,SAAS,CAAEoB,MAAO,Q,EAGjDgD,WAAa,SAAAxE,GACQ,WAAfA,EAAMyE,MAAmB,EAAKrE,SAAS,CAAEoB,MAAO,Q,kEA3DjC,IACXmB,EAAc9B,KAAKhB,MAAnB8C,UACR9B,KAAKmC,QAAQL,K,yCAGI+B,EAAWC,GAAY,IAAD,EACI9D,KAAKhB,MAAxC8C,EAD+B,EAC/BA,UAAWC,EADoB,EACpBA,KAAMf,EADc,EACdA,OAAQL,EADM,EACNA,MAE7BmD,EAAUhC,YAAcA,GAAaC,IAAS+B,EAAU/B,MAC1D/B,KAAKmC,UAEHnB,EAAO+C,SAAWD,EAAU9C,OAAO+C,QAAQ/D,KAAK4C,iBAEpDjC,GAASkC,OAAOmB,iBAAiB,UAAWhE,KAAK2D,YACjDG,EAAUnD,OAASkC,OAAOoB,oBAAoB,UAAWjE,KAAK2D,c,+BAgDtD,IAAD,EAC8B3D,KAAKhB,MAAlCgC,EADD,EACCA,OAAQ0B,EADT,EACSA,UAAW/B,EADpB,EACoBA,MAE3B,OACE,sBAAK/B,UAAWC,IAAO4D,IAAvB,UACE,cAAC,EAAD,CAAW9C,iBAAkBK,KAAKL,mBACjCqB,EAAO+C,OAAS,GACf,cAAC,EAAD,CAAc/C,OAAQA,EAAQC,YAAajB,KAAKiB,cAEjDyB,GAAa,cAAC,EAAD,IACb1B,EAAO+C,OAAS,IAAMrB,GACrB,cAAC,EAAD,CAAQhC,QAASV,KAAKsD,aAEL,IAAlBtC,EAAO+C,SAAiBrB,GAAa,gDACrC/B,GAAS,cAAC,EAAD,CAAOA,MAAOA,EAAOD,QAASV,KAAKiB,cAC7C,cAAC,IAAD,CAAgBiD,UAAW,a,GAvFjB7D,aCJlB8D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrB,SAASsB,eAAe,W","file":"static/js/main.34be6173.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fUvlJ\",\"image\":\"ImageGalleryItem_image__bjLu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1HcUi\",\"Modal\":\"Modal_Modal__3P8ld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2Hx3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"CustomLoader_Loader__3YbnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__20j56\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2n9LJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2IS8I\",\"SearchForm\":\"Searchbar_SearchForm__2qdyB\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2hDVG\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1H_Bo\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1dRN0\"};","import Loader from 'react-loader-spinner';\nimport styles from './CustomLoader.module.css';\n\nfunction CustomLoader() {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      className={styles.Loader}\n    />\n  );\n}\n\nexport default CustomLoader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchInput: '',\n  };\n\n  onChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  formReset = () => {\n    this.setState({ searchInput: '' });\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    const { searchFormSubmit } = this.props;\n    const searchInput = this.state.searchInput.trim();\n    if (searchInput === '') {\n      toast.error('Enter query');\n      return;\n    }\n    searchFormSubmit(searchInput);\n    this.formReset();\n  };\n\n  render() {\n    const { searchInput } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onSubmit}>\n          <button type=\"submit\" className={styles['SearchForm-button']}>\n            <span className={styles['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            name=\"searchInput\"\n            value={searchInput}\n            onChange={this.onChange}\n            className={styles['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  searchFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, src, alt, onClick }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        onClick={onClick}\n        className={styles.image}\n        data-id={id}\n        data-name=\"image\"\n      />\n    </li>\n  );\n}\nImageGalleryItem.defaultProps = {\n  alt: 'photo',\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, toggleModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          id={id}\n          src={webformatURL}\n          alt={tags}\n          onClick={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={styles.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nfunction Modal({ image, onClick }) {\n  return (\n    <div className={styles.Overlay} onClick={onClick} data-name=\"overlay\">\n      <div className={styles.Modal}>\n        <img src={image.largeImageURL} alt={image.tags} />\n      </div>\n    </div>\n  );\n}\n\nModal.defaultProps = {\n  image: {\n    alt: 'photo',\n  },\n};\n\nModal.propTypes = {\n  image: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\n//  ключ Никиты, с его ключем прилетают уникальные ответы, очень странно...\n// const API_KEY = \"3616495-8ef67a89dfdb2c2d531583fa2\";\n\nconst API_KEY = '18376090-d7378f6abd5315284a04e80ad';\nconst BASE_URL = 'https://pixabay.com/api';\naxios.defaults.baseURL = BASE_URL;\n\nfunction pixabayApiRequest(\n  userQuery = '',\n  page = 1,\n  per_page = 12,\n  image_type = 'photo',\n  orientation = 'horizontal',\n) {\n  const request = `/?key=${API_KEY}&q=${userQuery}&page=${page}&per_page=${per_page}&image_type=${image_type}&orientation=${orientation}`;\n\n  return axios(request)\n    .then(({ data }) => data.hits)\n    .catch(error => toast(error.massage));\n}\n\nexport default pixabayApiRequest;\n","import React, { Component } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport styles from './App.module.css';\r\nimport CustomLoader from '../CustomLoader/CustomLoader';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport pixabayApiRequest from '../../utils/pixabayApi/pixabayApI';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    userQuery: '',\r\n    images: [],\r\n    page: 1,\r\n    isLoading: false,\r\n    isModalShow: false,\r\n    image: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { userQuery } = this.state;\r\n    this.request(userQuery);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { userQuery, page, images, image } = this.state;\r\n\r\n    if (prevState.userQuery !== userQuery || page !== prevState.page)\r\n      this.request();\r\n\r\n    if (images.length !== prevState.images.length) this.scrollToButton();\r\n\r\n    image && window.addEventListener('keydown', this.closeModal);\r\n    prevState.image && window.removeEventListener('keydown', this.closeModal);\r\n  }\r\n\r\n  searchFormSubmit = searchInput => {\r\n    this.setState({ userQuery: searchInput, page: 1, images: [] });\r\n  };\r\n\r\n  scrollToButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  request = () => {\r\n    const { userQuery, page } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    pixabayApiRequest(userQuery, page)\r\n      .then(newImages =>\r\n        this.setState(({ images }) => {\r\n          return { images: [...images, ...newImages] };\r\n        }),\r\n      )\r\n      .finally(this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.setState(({ page }) => {\r\n      return { page: page + 1 };\r\n    });\r\n  };\r\n\r\n  toggleModal = event => {\r\n    const { name, id } = event.target.dataset;\r\n    const { images } = this.state;\r\n\r\n    const image = images.find(image => Number.parseInt(id) === image.id);\r\n\r\n    if (name === 'image') this.setState({ image: image });\r\n    if (name === 'overlay') this.setState({ image: null });\r\n  };\r\n\r\n  closeModal = event => {\r\n    if (event.code === 'Escape') this.setState({ image: null });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, image } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar searchFormSubmit={this.searchFormSubmit} />\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} toggleModal={this.toggleModal} />\r\n        )}\r\n        {isLoading && <CustomLoader />}\r\n        {images.length > 0 && !isLoading && (\r\n          <Button onClick={this.onLoadMore} />\r\n        )}\r\n        {images.length === 0 && !isLoading && <div>Nothing found</div>}\r\n        {image && <Modal image={image} onClick={this.toggleModal} />}\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}