{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/CustomLoader/CustomLoader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/CustomLoader/CustomLoader.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","utils/pixabayApi/pixabayApI.js","components/App/App.js","index.js"],"names":["module","exports","CustomLoader","type","color","height","width","className","styles","Loader","Searchbar","state","searchInput","onChange","event","target","name","value","setState","formReset","onSubmit","preventDefault","searchFormSubmit","props","trim","toast","error","this","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","src","alt","onClick","image","data-id","data-name","defaultProps","ImageGallery","images","toggleModal","map","webformatURL","tags","Button","Modal","Overlay","largeImageURL","API_KEY","BASE_URL","pixabayApiRequest","userQuery","page","per_page","image_type","orientation","axios","defaults","baseURL","request","App","isLoading","isModalShow","scrollToButton","window","scrollTo","top","document","documentElement","scrollHeight","behavior","then","data","hits","catch","massage","finally","onLoadMore","dataset","find","Number","parseInt","closeModal","code","prevProps","prevState","length","addEventListener","removeEventListener","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dba3669c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fUvlJ\",\"image\":\"ImageGalleryItem_image__bjLu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1HcUi\",\"Modal\":\"Modal_Modal__3P8ld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2Hx3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"CustomLoader_Loader__3YbnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__20j56\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2n9LJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2IS8I\",\"SearchForm\":\"Searchbar_SearchForm__2qdyB\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2hDVG\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1H_Bo\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1dRN0\"};","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport styles from './CustomLoader.module.css';\n\nfunction CustomLoader() {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      className={styles.Loader}\n    />\n  );\n}\n\nexport default CustomLoader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchInput: '',\n  };\n\n  onChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  formReset = () => {\n    this.setState({ searchInput: '' });\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    const { searchFormSubmit } = this.props;\n    const searchInput = this.state.searchInput.trim();\n    if (searchInput === '') {\n      toast.error('Enter query');\n      return;\n    }\n    searchFormSubmit(searchInput);\n    this.formReset();\n  };\n\n  render() {\n    const { searchInput } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.onSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            name=\"searchInput\"\n            value={searchInput}\n            onChange={this.onChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  searchFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, src, alt, onClick }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        onClick={onClick}\n        className={styles.image}\n        data-id={id}\n        data-name=\"image\"\n      />\n    </li>\n  );\n}\nImageGalleryItem.defaultProps = {\n  alt: 'photo',\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, toggleModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          id={id}\n          src={webformatURL}\n          alt={tags}\n          onClick={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={styles.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nfunction Modal({ image, onClick }) {\n  return (\n    <div className={styles.Overlay} onClick={onClick} data-name=\"overlay\">\n      <div className={styles.Modal}>\n        <img src={image.largeImageURL} alt={image.tags} />\n      </div>\n    </div>\n  );\n}\n\nModal.defaultProps = {\n  image: {\n    alt: 'photo',\n  },\n};\n\nModal.propTypes = {\n  image: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\n\n//  ключ Никиты, с его ключем прилетают уникальные ответы, очень странно...\n// const API_KEY = \"3616495-8ef67a89dfdb2c2d531583fa2\";\n\nconst API_KEY = '18376090-d7378f6abd5315284a04e80ad';\nconst BASE_URL = 'https://pixabay.com/api';\n\nfunction pixabayApiRequest(\n  userQuery = '',\n  page = 1,\n  per_page = 12,\n  image_type = 'photo',\n  orientation = 'horizontal',\n) {\n  axios.defaults.baseURL = BASE_URL;\n\n  const request = `/?key=${API_KEY}&q=${userQuery}&page=${page}&per_page=${per_page}&image_type=${image_type}&orientation=${orientation}`;\n\n  return axios(request);\n}\n\nexport default pixabayApiRequest;\n","import React, { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport styles from './App.module.css';\nimport CustomLoader from '../CustomLoader/CustomLoader';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport pixabayApiRequest from '../../utils/pixabayApi/pixabayApI';\n\nclass App extends Component {\n  state = {\n    userQuery: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    isModalShow: false,\n    image: null,\n  };\n\n  componentDidMount() {\n    const { userQuery } = this.state;\n    this.request(userQuery);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { userQuery, page, images, image } = this.state;\n\n    if (prevState.userQuery !== userQuery || page !== prevState.page)\n      this.request();\n\n    if (images.length !== prevState.images.length) this.scrollToButton();\n\n    image && window.addEventListener('keydown', this.closeModal);\n    prevState.image && window.removeEventListener('keydown', this.closeModal);\n  }\n\n  searchFormSubmit = searchInput => {\n    this.setState({ userQuery: searchInput, page: 1, images: [] });\n  };\n\n  scrollToButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  request = () => {\n    const { userQuery, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    pixabayApiRequest(userQuery, page)\n      .then(({ data }) =>\n        this.setState(({ images }) => {\n          return { images: [...images, ...data.hits] };\n        }),\n      )\n      .catch(error => toast(error.massage))\n      .finally(this.setState({ isLoading: false }));\n  };\n\n  onLoadMore = () => {\n    this.setState(({ page }) => {\n      return { page: page + 1 };\n    });\n  };\n\n  toggleModal = event => {\n    const { name, id } = event.target.dataset;\n    const { images } = this.state;\n\n    const image = images.find(image => Number.parseInt(id) === image.id);\n\n    if (name === 'image') this.setState({ image: image });\n    if (name === 'overlay') this.setState({ image: null });\n  };\n\n  closeModal = event => {\n    if (event.code === 'Escape') this.setState({ image: null });\n  };\n\n  render() {\n    const { images, isLoading, image } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar searchFormSubmit={this.searchFormSubmit} />\n        {images.length > 0 && (\n          <ImageGallery images={images} toggleModal={this.toggleModal} />\n        )}\n        {isLoading && <CustomLoader />}\n        {images.length > 0 && !isLoading && (\n          <Button onClick={this.onLoadMore} />\n        )}\n        {images.length === 0 && !isLoading && <div>Nothing found</div>}\n        {image && <Modal image={image} onClick={this.toggleModal} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}